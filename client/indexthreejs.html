<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!--<link rel="stylesheet" href="./client/style.css">-->
	<link rel="stylesheet" href="./client/generated/style.css">
	<script type="importmap">
		{
			"imports": {
				"loadingScreen": "./client/modules/loadingScreen/loadingScreen.mjs",
				"loginScreen": "./client/modules/loginScreen/loginScreen.mjs",
				"lib": "./lib/lib.mjs",
				"chat": "./client/modules/chat/chat.mjs",
				"playerList": "./client/modules/playerList/playerList.mjs",
				"worldInfo": "./client/modules/worldInfo/worldInfo.mjs",
				"resource": "./client/modules/resources/resource.mjs",
				"resourceList": "./client/modules/resources/resourceList.mjs",
				"buildings": "./lib/buildings.mjs",
				"buildingData": "./client/modules/buildings/buildingData.mjs",
				"buildingDataList": "./client/modules/buildings/buildingDataList.mjs",
				"buildingsFrame": "./client/modules/buildings/buildingsFrame.mjs",
				"buildingTooltip": "./client/modules/buildings/buildingTooltip.mjs",
				"entityManager": "./client/modules/entities/entityManager.mjs",
				"modelCache": "./client/modules/entities/modelCache.mjs",
				"baseEntity": "./client/modules/entities/baseEntity.mjs",
				"building": "./client/modules/entities/building.mjs",
				"player": "./client/modules/entities/player.mjs",
				"resourceNode": "./client/modules/entities/resourceNode.mjs",
				"templateHelper": "./client/modules/templateHelper.mjs",
				"templateHelpers": "./client/modules/templateHelpers.mjs",
				"singletons": "./client/modules/singletons.mjs",

				"JSFrame": "./client/modules/jsFrame.mjs",
				"@seregpie/three.text-sprite":  "./client/modules/three.text-sprite/index.js",
				"@seregpie/three.text-texture": "./client/modules/three.text-texture/index.js",

				"socket.io-client": "./node_modules/socket.io-client/dist/socket.io.esm.min.js",
				"three": "./node_modules/three/build/three.module.js",
				"three/addons/": "./node_modules/three/examples/jsm/"
			}
		}
	</script>
</head>

<body>
	<div id="gameDiv" style="display:none;">
		<div id="game" style="overflow:hidden; position:absolute;width:100%;height:100%;top:0px; left:0px;">
			<canvas id="threejs" style="z-index: -1; position: absolute; left:0; top:0;"></canvas>

			<a class="button comfyButton" href="javascript:zoomOut()"
				style="position:absolute;height:24px;top:4px;left:34px;width:31px">
				-
			</a>
			<a class="button comfyButton" href="javascript:zoomDefault()"
				style="position:absolute;height:24px;top:4px;left:69px;width:31px">
				R
			</a>
			<a class="button comfyButton" href="javascript:zoomIn()"
				style="position:absolute;height:24px;top:4px;left:104px;width:31px">
				+
			</a>
			<a class="button comfyButton" href="javascript:openSettings()"
				style="position:absolute;height:24px;top:4px;left:129px;width:31px">
				S
			</a>
		</div>

		<div id="settingsDiv" style="position:absolute; width:100%; height:100%; display:none;">
			<div
				style="background-color: darkgreen; position:relative;top: 40%;width:300px;height:40px; margin: auto auto;text-align: center; border-style: solid; line-height: 40px;">
				Settings <a class="button comfyButton" href="javascript:closeSettings()"
					style="position:absolute;height:24px;top:4px;right:4px;width:31px">X</a>
			</div>
			<div
				style="background-color: darkgreen; position:relative;top: 40%;width:300px;height:300px; margin: auto auto; border-style: solid;">
				<a class="button comfyButton" id="buttonDisplayHP" href="javascript:hpDisplay()"
					style="position:absolute;height:24px;top:4px;right:20px;width:260px">HP Display ON</a>
				<a class="button comfyButton" id="buttonDisplayDAM" href="javascript:damageDisplay()"
					style="position:absolute;height:24px;top:36px;right:20px;width:260px">Damage Display ALL</a>
				<br><br><br><br>
				<div class="slidecontainer">
					<p>Target FrameTime: <span id="targetFrameTime">20</span></p>
					<input type="range" min="10" max="50" value="20" class="slider" id="frameTimeSlider">
				</div>
				<div class="slidecontainer">
					<p>Render Scale %: <span id="renderScale">100</span></p>
					<input type="range" min="50" max="200" value="100" class="slider" id="renderScaleSlider">
				</div>
				<br>
				<button id="testA" class="comfyButton">load 2k 4mb envmap</button><br>
				<button id="testB" class="comfyButton">load 8k 56mb envmap</button><br>
				<button id="testC" class="comfyButton">load original 57mb envmap</button><br>
				<button id="testD" class="comfyButton">load old 25mb envmap</button>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/jsframe.js/lib/jsframe.min.js"></script>
	<script src="/client/blowfish.js"></script>
	<script type="module" src="/client/game.mjs" defer></script>
</body>
</html>