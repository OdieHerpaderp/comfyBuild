<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./client/style.css">
</head>

<body>
	<div id="loadDiv" style="width:100%; height:100%;">
		<div style="position:relative;top: 40%;width:300px;height:100px; margin: auto auto;">
			<center><img src="/client/img/loading.png"><br>Loading - Please wait...</center>
		</div>
	</div>

	<div id="gameDiv" style="display:none;">
		<div id="game" onwheel="scrollWheel(event)"
			style="overflow:hidden; position:absolute;width:100%;height:100%;top:44px; left:2px;">
			<canvas id="ctx" width="3744" height="1920" style="transition: transform .2s;"></canvas>
			<canvas id="threejs" style="z-index: -1; position: absolute; left:0px; top:0px;"></canvas>
			<canvas id="ctx-ui" width="1872" height="960" style="position:absolute;"></canvas>

			<div id="scoreBoard"
				style="position:absolute;top:0px; right:0px;width:700px;height:100px;overflow-y:scroll">
				<div>Wajo</div>
			</div>

			<a class="button" href="javascript:zoomOut()"
				style="position:absolute;height:24px;top:0px;left:0px;width:31px">
				-
			</a>
			<a class="button" href="javascript:zoomDefault()"
				style="position:absolute;height:24px;top:0px;left:35px;width:31px">
				R
			</a>
			<a class="button" href="javascript:zoomIn()"
				style="position:absolute;height:24px;top:0px;left:70px;width:31px">
				+
			</a>
			<a class="button" href="javascript:openSettings()"
				style="position:absolute;height:24px;top:0px;left:105px;width:31px">
				S
			</a>
			<a id="fpsCounter" style="position:absolute;height:22px;top:32px;left:0px;width:93px;font-size:14px;">
				Perf: ?
			</a>
		</div>

		<div class="uiButtonsVersus" id="uiVersus"
			style="display: none; background-image: url('/client/img/bottombar.png'); background-size:cover; background-repeat:no-repeat;position:absolute;width:100%;height:132px;line-height:44px;bottom:134px;left:0px;">
			<div id="buttenz">
				<a class="button" id="buttonWest" href="javascript:joinWest()"
					style="position:absolute;height:76px;top:20px;left:0px;width:148px">
					Join West
				</a>
				<a class="button" id="buttonEast" href="javascript:joinEast()"
					style="position:absolute;height:76px;top:20px;left:152px;width:148px">
					Join East
				</a>
				<div
					style="position:absolute;width:568px;height:132px;right:0px;top:0px;overflow-y:scroll;overflow-x:hidden">
					<table>
						<tr>
							<td>
								<p>Health: Lv 1</p><a class="button" id="buttonPawn" href="javascript:towerPawn()"
									style="height:26px;width:180px;">
									Upgrade (100G)
								</a>
							</td>
							<td>
								<p>Armor: Lv 1</p><a class="button" id="buttonArrow" href="javascript:towerArrow()"
									style="height:26px;width:180px;">
									Upgrade (100G)
								</a>
							</td>
							<td>
								<p>Speed: Lv 1</p><a class="button" id="buttonCannon" href="javascript:towerCannon()"
									style="height:26px;width:180px;">
									Upgrade (100G)
								</a>
							</td>
						</tr>
						</tr>
					</table>
				</div>
			</div>

		</div>

		<div id="hud"
			style="position:absolute;top:0px; left:0px;width:100%;height:44px; background-image: url('/client/img/topbar.png')">
			<span id="statuspane">
				<div class='logo'></div>
				<div id="panePos" class='pane'>X:</div>
				<div id="paneGold" class='pane'>Gold:</div>
				<div id="paneLevel" class='pane'>Level:</div>
				<div id="paneTech" class='pane'>Tech:</div>
				<div id="paneHealth" class='pane'>Health:</div>
				<div id="paneWave" class='pane'>Wave:</div>
			</span>
		</div>

		<div id="settingsDiv" style="position:absolute; width:100%; height:100%;">
			<div
				style="background-color: darkgreen; position:relative;top: 40%;width:300px;height:40px; margin: auto auto;text-align: center; border-style: solid; line-height: 40px;">
				Settings <a class="button" href="javascript:closeSettings()"
					style="position:absolute;height:24px;top:4px;right:4px;width:31px">X</a>
			</div>
			<div
				style="background-color: darkgreen; position:relative;top: 40%;width:300px;height:300px; margin: auto auto; border-style: solid;">
				<a class="button" id="buttonDisplayHP" href="javascript:hpDisplay()"
					style="position:absolute;height:24px;top:4px;right:20px;width:260px">HP Display ON</a>
				<a class="button" id="buttonDisplayDAM" href="javascript:damageDisplay()"
					style="position:absolute;height:24px;top:36px;right:20px;width:260px">Damage Display ALL</a>
				<br><br><br><br>
				<div class="slidecontainer">
					<p>Target FrameTime: <span id="targetFrameTime">20</span></p>
					<input type="range" min="10" max="50" value="20" class="slider" id="frameTimeSlider">
				</div>
				<div class="slidecontainer">
					<p>Render Scale %: <span id="renderScale">100</span></p>
					<input type="range" min="50" max="200" value="100" class="slider" id="renderScaleSlider">
				</div>
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/jsframe.js/lib/jsframe.min.js"></script>

	<script src="/client/blowfish.js"></script>

	<script type="importmap">
		{
			"imports": {
				"loginScreen": "./client/modules/loginScreen/loginScreen.mjs",
				"chat": "./client/modules/chat/chat.mjs",
				"resource": "./client/modules/resources/resource.mjs",
				"resourceList": "./client/modules/resources/resourceList.mjs",
				"buildings": "./lib/buildings.mjs",
				"buildingData": "./client/modules/buildings/buildingData.mjs",
				"buildingDataList": "./client/modules/buildings/buildingDataList.mjs",
				"buildingTooltip": "./client/modules/buildings/buildingTooltip.mjs",
				"templateHelpers": "./client/modules/templateHelpers.mjs",
				"singletons": "./client/modules/singletons.mjs",

				"JSFrame": "./client/modules/jsFrame.mjs",
				
				"@seregpie/three.text-sprite":  "./client/modules/three.text-sprite/index.js",
				"@seregpie/three.text-texture": "./client/modules/three.text-texture/index.js",
				"socket.io-client": "./node_modules/socket.io-client/dist/socket.io.esm.min.js",
				"three": "./node_modules/three/build/three.module.js",
				"three/addons/": "./node_modules/three/examples/jsm/"
			}
		}
	</script>
	<script type="module" src="/client/game.mjs" defer></script>

</body>

</html>